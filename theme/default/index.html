<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../public/css/reset.css">
    <link rel="stylesheet" href="./index.css">
    </style>
    <style>
        object {
            transform: scale(0.33);
            transform-origin: 10px 10px;
            position: absolute;
        }
    </style>
</head>

<body>
    <div class="main">
        <!-- <div class="main__nav">
        </div> -->
        <div class="main__container">

        </div>
    </div>
</body>
<!-- exampleConfig -->
<script src="../../example/config.js"></script>
<script>
    // 变量
    const body = document.querySelector('body')
    const mainContainer = body.querySelector('.main__container')
    // 加载example
    function reloadExample() {
        let ele = null
        for (let key in exampleConfig) {
            ele = document.createElement('object')
            ele.data = `../../example/${key}/index.html`
            ele.width = '100%'
            ele.height = '100%'
            // 标记
            mainContainer.appendChild(ele)
        }
    }
    // 设置大小
    function resetSize() {
        let objs = document.querySelectorAll('object')
        const bodyWidth = parseInt(window.getComputedStyle(body).width)
        const bodyHeight = parseInt(window.getComputedStyle(body).height)
        for ([index, item] of objs.entries()) {
            objs[index].style.marginLeft = (index % 3) * bodyWidth * (0.33 + 0.005) + 'px'
            objs[index].style.marginTop = parseInt(index / 3) * bodyHeight * (0.33 + 0.005) + 'px'
        }
    }
    // 初始化
    (function init() {
        reloadExample()
        window.addEventListener('resize', () => {
            resetSize()
        })
        resetSize()
    })()

</script>

</html>